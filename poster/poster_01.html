<!DOCTYPE html>
<html>
<head>
  <title>MMM</title>
  <meta charset="utf-8">
  <meta name="author" content="Yuhjoon Yoon"/>
  <meta name="copyright" content="Yuhjoon Yoon"/>
  <meta name="Viewport" content="width=device-width">
  <link rel="stylesheet" href="css/reset.css">
</head>
<body>

<script src="js/p5.min.js"></script>
<script type="text/javascript">
let max_distance;

function setup() {
  createCanvas(windowWidth, windowHeight);
  frameRate(30);
  noStroke();
  max_distance = dist(0, 0, windowWidth, windowHeight);
}

function draw() {
  background('#22242A');

  for (let i = 0; i <= width; i += 16) {
    for (let j = 0; j <= height; j += 16) {
      let size = dist(mouseX, mouseY, i, j);
      size = (size / max_distance) * 66;
      let dotsize = inOutSin(tri(timeLoop(30, size))) * 18;
      ellipse(i, j, dotsize, dotsize);
    }
  }
}


function timeLoop(totalframes, offset) {
  return (frameCount + offset) % totalframes / totalframes;
}

function tri(t) {
  return t < 0.5 ? t * 2 : 2 - (t * 2);
}

function inOutSin(t) {
  return 0.5 - cos(PI * t) / 2;
}
</script>
</body>
</html>